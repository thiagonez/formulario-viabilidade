<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário Financeiro</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>Formulário Financeiro Pessoal</h1>
        
        <form id="financeForm">
            <!-- Coleta de Nome e E-mail -->
            <div class="form-group">
                <label for="name">Nome</label>
                <input type="text" id="name" name="name" placeholder="Digite seu nome" required>
            </div>
            <div class="form-group">
                <label for="email">E-mail</label>
                <input type="email" id="email" name="email" placeholder="Digite seu e-mail" required>
            </div>

            <!-- Tabela de Receitas -->
            <h2>Receitas</h2>
            <table>
                <thead>
                    <tr>
                        <th>Título</th>
                        <th>Valor</th>
                    </tr>
                </thead>
                <tbody id="receitasTable">
                    <tr><td>Salário</td><td><input type="number" name="salario" placeholder="R$ 0,00" required></td></tr>
                    <tr><td>13º salário</td><td><input type="number" name="decimoTerceiro" placeholder="R$ 0,00" required></td></tr>
                    <tr><td>Dividendos</td><td><input type="number" name="dividendos" placeholder="R$ 0,00" required></td></tr>
                    <tr><td>Férias</td><td><input type="number" name="ferias" placeholder="R$ 0,00" required></td></tr>
                </tbody>
            </table>

            <!-- Tabela de Despesas -->
            <h2>Despesas</h2>
            <table>
                <thead>
                    <tr>
                        <th>Título</th>
                        <th>Valor</th>
                    </tr>
                </thead>
                <tbody id="despesasTable">
                    <tr><td>Aluguel / Prestação</td><td><input type="number" name="aluguel" placeholder="R$ 0,00" required></td></tr>
                    <tr><td>Supermercado</td><td><input type="number" name="supermercado" placeholder="R$ 0,00" required></td></tr>
                    <tr><td>Internet</td><td><input type="number" name="internet" placeholder="R$ 0,00" required></td></tr>
                </tbody>
            </table>

            <!-- Tabela de Dívidas -->
            <h2>Dívidas</h2>
            <table id="dividasTable">
                <thead>
                    <tr>
                        <th>Credor</th>
                        <th>Saldo da Dívida Atual</th>
                        <th>Juros Mensal (%)</th>
                        <th>Valor da Parcela</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="text" name="credor" placeholder="Nome do Credor" required></td>
                        <td><input type="number" name="saldoDivida" placeholder="R$ 0,00" required></td>
                        <td><input type="number" name="jurosMensal" placeholder="0" required></td>
                        <td><input type="number" name="valorParcela" placeholder="R$ 0,00" required></td>
                    </tr>
                </tbody>
            </table>

            <!-- Balanço Patrimonial -->
            <h2>Balanço Patrimonial Pessoal</h2>
            <table>
                <thead>
                    <tr>
                        <th>Ativo</th>
                        <th>Passivo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td><input type="number" name="ativosImobilizados" placeholder="Ativos" required></td><td><input type="number" name="passivosDividas" placeholder="Passivos" required></td></tr>
                </tbody>
            </table>

            <!-- Calculadora de Liberdade Financeira -->
            <h2>Calculadora de Liberdade Financeira</h2>
            <div class="form-group">
                <label for="retirementIncome">Quero me aposentar com uma renda de:</label>
                <input type="number" name="rendaAposentadoria" placeholder="R$ 0,00" required>
            </div>
            <div class="form-group">
                <label for="currentInvestment">Quanto você tem hoje investido?</label>
                <input type="number" name="investimentoAtual" placeholder="R$ 0,00" required>
            </div>
            <div class="form-group">
                <label for="monthlyInvestment">Quanto vai investir por mês?</label>
                <input type="number" name="investimentoMensal" placeholder="R$ 0,00" required>
            </div>

            <button type="submit">Enviar</button>
        </form>
    </div>

    <script>
        const form = document.getElementById('financeForm');
        const url = 'https://script.google.com/macros/s/AKfycbyb22UGgr5nv8v3EpCMDrlnzGp0nDTXVPerHd2-znQa/exec';

        form.addEventListener('submit', async (event) => {
            event.preventDefault(); // Impede o envio padrão do formulário

            const formData = new FormData(form); // Coleta os dados do formulário

            try {
                const response = await fetch(url, {
                    method: 'POST',
                    body: formData,
                });

                const result = await response.text(); // Obtém a resposta como texto
                alert(result); // Exibe a resposta (sucesso ou erro)
            } catch (error) {
                alert('Houve um erro ao enviar os dados. Tente novamente.'); // Mensagem de erro
            }
        });
    </script>
</body>
</html>
